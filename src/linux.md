## Part 1. Установка ОС
* Узнаем версию Ubuntu, вызвав команду:
        cat /etc/issue
![скриншот с выводом команды cat /etc/issue](/src/linux_tats/tast_1/2.2.png "скриншот с выводом команды cat /etc/issue")
## Part 2. Создание пользователя
* Вызываем команду для создания пользователя sudo useradd new_user. 
* Проверяем: Вывод команды 
        cat /etc/passwd 
![скриншот с выводом команды cat /etc/passwd](/src/linux_tats/tast_2/2.1.png "скриншот с выводом команды cat /etc/passwd")
* группы (sudo добавили заранее)
![группы пользователя](/src/linux_tats/tast_2/2.3.png "скриншот с выводом команды cat /etc/passwd")
## Part 3. Настройка сети ОС
* Открываем и изменяем файл /etc/hostname. Заменяем указанный в файле hostname на user-1.
* Проверяем: Вывод команды 
        cat /etc/hostname 
![скриншот с выводом команды cat /etc/hostname](/src/linux_tats/tast_3/3.1.png "скриншот с выводом команды cat /etc/hostname")
* Находим название своей зоны с помощью команды 
        timedatectl list-timezones 
* Устанавливаем свою временную зону с помощью команды 
        sudo timedatectl set-timezone Europe/Moscow
* Выводим названия сетевых интерфейсов с помощью консольной команды:
        ifconfig -a        
![скриншот с выводом команды ifconfig -a](/src/linux_tats/tast_3/3.3.png "скриншот с выводом команды ifconfig -a")
* lo (loopback device) – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине. С этим интерфейсом всегда связан адрес 127.0.0.1. У него есть dns-имя – localhost
* Используя консольную команду, узнаем внутренний IP-адрес шлюза:
        hostname -I 
![скриншот с выводом команды hostname -I](/src/linux_tats/tast_3/3.4.png "скриншот с выводом команды hostname -I")
* Узнаем внешний ip адрес с помощью команды
        curl icanhazip.com
![внешний ip адрес](/src/linux_tats/tast_3/30.png "внешний ip адрес") 
* DHCP (англ. Dynamic Host Configuration Protocol — протокол динамической настройки узла) — сетевой протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP. Для работы по сети любому устройству требуется IP-адрес. В протоколе IPv4 это числовой идентификатор, состоящий из 4 разрядов, каждый из которых отделяется точкой, без него устройство не может быть определено в сетевой инфраструктуре. Прикладной протокол DHCP выполняет всю работу по подбору сетевых настроек автоматически, без необходимости присваивать вручную каждому устройству свой IP-адрес.
* Задаем статичные настройки ip, gw, dns. Для этого редактируем файл /etc/netplan/*.yaml, задавая значения dhcp4, addresses, gateway4, nameservers. Файл должен выглядеть следующим образом: 
![скриншот c файлом /etc/netplan/*.yaml](/src/linux_tats/tast_3/3.5.png "скриншот c файлом /etc/netplan/*.yaml")
* Перезагружаем виртуальную машину. Пингуем удаленные хосты 1.1.1.1 и ya.ru: 
![пропингован хост 1.1.1.1](/src/linux_tats/tast_3/3.6.png "пропингован хост 1.1.1.1") 
![пропингован хост ya.ru](src/linux_tats/tast_3/3.7.png "пропингован хост ya.ru") 
## Part 4. Обновление ОС
* Обновляем системные пакеты до последней на момент выполнения задания версии + убеждаемся что все обновилось: 
![команда для обновления](src/linux_tats/tast_4/4.2.png "команда для обновления + проверка обновлений")
## Part 5. Использование команды sudo
* Разрешить пользователю new_user выполнять команду sudo: 
![добавляем new_user в группу sudo](src/linux_tats/tast_5/5.1.png "добавляем new_user в группу sudo")
    * Значение команды sudo: sudo — это утилита, предоставляющая привилегии root для выполнения административных операций в соответствии со своими настройками. Она позволяет легко контролировать доступ к важным приложениям в системе
* Меняем hostname от имени new_user заходим в пользователь new_user с помощью команды 
        su new_user 
затем меняем содержимое файла /etc/hostname и проверяем, изменилось ли hostname с помощью команды 
        /etc/hostname
![проверяем изменение хостнейм cat /etc/hostname](src/linux_tats/tast_5/5.2.png "проверяем изменение хостнейм cat /etc/hostname") 
## Part 6. Установка и настройка службы времени
* Настраиваем службу автоматической синхронизации времени. Выводим время часового пояса, в котором находимся timedatectl show : 
![время часового пояса, в котором находимся timedatectl show ](src/linux_tats/tast_6/6.1.png "время часового пояса, в котором находимся timedatectl show ")
* Понимаем, что нет автоматической синхронизации и проводим набор следующих команд:
        sudo apt install -y ntp служба синхронизации времени
        sudo systemctl stop ntp  остановка даемона службы времени
        sudo ntpd -gq  принудительная синхронизация времени + выход
        sudo systemctl start ntp запуск даемона службы
        далее мы понимаем, что в убунте баг и нам приходится УДАЛИТЬ службу синхронизации времени
        sudo apt-get purge ntp
        и только после этого мы получаем интересующий нас вывод, что очень неочевидно

![вывод команды timedatectl show](src/linux_tats/tast_6/6.2.png "вывод команды timedatectl show")
## Part 7. Установка и использование текстовых редакторов
* Устанавливаем текстовые редакторы VIM, NANO, JOE. Используя каждый из трех  редакторов, создаем файл test_X.txt, где X -- название редактора. Напишем в нём свой никнейм, закрываем файл с сохранением изменений. 
* В VIM: 
![vim сохранение](src/linux_tats/tast_7/7.1.png "vim сохранение") 
    * Для сохранения изменений возвращаемся в командный режим с помощью esc и вводим команду 
        :wq 

* В NANO: 
![nano сохранение](src/linux_tats/tast_7/7.2.png "nano сохранение") 
    * Для выхода с сохранением нажимаем Control + X, на вопрос о сохранении отвечаем Y. 

* В JOE: 
![JOE сохранение](src/linux_tats/tast_7/7.3.png "JOE сохранение") 
    * Для выхода с сохранением нажимаем Control + K затем  X.

* Редактируем файл, заменяя никнейм на строку "21 School 21". VIM: 
![vim без сохранения](src/linux_tats/tast_7/7.6.png "vim без сохранения") 
    * Чтобы выйти без сохранения возвращаемся в командный режим и вводим команду 
        :q! 
* NANO: 
![nano без сохранения](src/linux_tats/tast_7/7.5.png "nano без сохранения") 
    * Для выхода без сохранения нажимаем Control + X, на вопрос о сохранении отвечаем N. 
* JOE: 
![JOE без сохранения](src/linux_tats/tast_7/7.4.png "JOE без сохранения") 
    * Чтобы выйти без сохранения нажимаем Control + K затем Q.

* Поиск слова по содержимому файла. VIM результат поиска и замены слова: 
![VIM замена слова](src/linux_tats/tast_7/7.7.png "VIM замена слова")
    * Команда, введенная для поиска слова: 
        /21
    * Команда, введенная для замены слова: 
        :s/21/22
* NANO результат поиска слова: 
![nano результат поиск и замена слова](src/linux_tats/tast_7/7.8.png "nano результат поиска и замена слова") 
    * Для поиска нажимаем Control + W и вводим искомое слово. Команда, введенная для замены: Control + \, вводим значения в полях "заменить" и "заменять на": 
* JOE результат поиска слова: 
![JOE поиск и замена](src/linux_tats/tast_7/7.10.png "JOE поиск и замена") 
    * K + F Find ("С to abort): ahmadbon
(I)gnore (R)eplace (B)ackwards Bloc(K) (С) to abort: R
Replace with (*C to abort): 21
Replace (Y)es (N)o (R)est (B)ackup (X to abort)? y

## Part 8. Установка и базовая настройка сервиса SSHD
* Устанавливаем OpenSSH с помощью команды: 
        sudo apt-get install openssh-server
* Добавляем автостарт службы при загрузке системы с помощью команды:
        sudo systemctl enable ssh
* Перенастраеваем службу SSHd на порт 2022. Для этого открываем конфигурационный файл с помощью команды:
![изменение конфига sshd](src/linux_tats/tast_8/8.1.png "изменение конфига sshd") 
        sudo nano /etc/ssh/sshd_config 
    в нем заменяем строку Port 1234 на Port 2022.
* Используя команду ps с флагом -С, показываем наличие процесса sshd: 
![наличие процесса sshd](src/linux_tats/tast_8/8.2.png  "наличие процесса sshd") 
* Команда ps выводит список текущих процессов на нашем сервере в виде таблицы. Ключи: 
    -A, -e, (a) - выбрать все процессы;
    -a - выбрать все процессы, кроме фоновых;
    -d, (g) - выбрать все процессы, даже фоновые, кроме процессов сессий;
    -N - выбрать все процессы кроме указанных;
    -С - выбирать процессы по имени команды;
    -G - выбрать процессы по ID группы;
    -p, (p) - выбрать процессы PID;
    --ppid - выбрать процессы по PID родительского процесса;
    -s - выбрать процессы по ID сессии;
    -t, (t) - выбрать процессы по tty;
    -u, (U) - выбрать процессы пользователя
* Перезагружаем систему с помощью команды 
        sudo reboot. 
    Смотрим вывод команды 
        netstat -tan: 
![вывод команды netstat -tan](src/linux_tats/tast_8/8.3.png  "вывод команды netstat -tan")
    * netstat - эта команда показывает текущие подключения к серверу. Использованные опции:
        * -a            Отображение всех подключений и портов прослушивания.
        * -n            Отображение адресов и номеров портов в числовом формате.
        * -t            Отображение состояния разгрузки для текущего подключения.
    Значения столбцов в выводе команды:
        * Proto — базовый протокол, который использовался для соединения;
        * Recv-Q — количество байтов, не скопированных пользовательской программой;
        * Send-Q — количество байтов, не принятых удаленным компьютером;
        * Local Address — локальный адрес формата компьютер:порт. ;
        * Foreign Address — удаленный адрес В формате IP:порт;
        * State — состояние соединения.         
    0.0.0.0. - адрес IPv4 с несколькими вариантами использования, в основном в качестве адреса по умолчанию или адреса-заместителя.
## Part 9. Установка и использование утилит top, htop
* Устанавливаем и запускаем утилиты top и htop. По выводу команды top определили: 
    * uptime - 2 ч 57 мин
    * количество авторизованных пользователей - 1
    * общая загрузка системы - 0,01
    * общее количество процессов - 96
    * загрузка cpu - 0%
    * загрузка памяти - 156,8 Мб
    * pid процесса занимающего больше всего памяти - 1
    * pid процесса, занимающего больше всего процессорного времени - 4178
![вывод команды top](src/linux_tats/tast_9/9.1.png "вывод команды top")

* Вывод команды htop отсортированному по PID, PERCENT_CPU, PERCENT_MEM, TIME: 
![сортировка по PID](src/linux_tats/tast_9/9.3.png "сортировка по PID") 
![сортировка по PERCENT_CPU](src/linux_tats/tast_9/9.2.png "сортировка по PERCENT_CPU")
![сортировка по PERCENT_MEM](src/linux_tats/tast_9/9.4.png "сортировка по PERCENT_MEM")
![сортировка по TIME](src/linux_tats/tast_9/9.5.png "сортировка по TIME")
* Отфильтровано для процесса sshd: 
![фильтр по  процессу sshd](src/linux_tats/tast_9/9.6.png  "фильтр по  процессу sshd")
* C процессом syslog, найденным, используя поиск: 
![поиск syslog](src/linux_tats/tast_9/9.7.png "поиск syslog")
* С добавленным выводом hostname, clock и uptime: 
![hostname, clock и uptime](src/linux_tats/tast_9/9.8.png "hostname, clock и uptime")
## Part 10. Использование утилиты fdisk
* Запускаем команду fdisk -l. В ней видим информацию о жёстком диске: 
![информация о жёстком диске](src/linux_tats/tast_10/10.1.png "информация о жёстком диске")
    * Название жесткого диска - VBOX HARDDISK 
    * размер - 25 Gib 
    * количество секторов - 52428800
    * размер swap - 2 GiB:
![размер swap](src/linux_tats/tast_10/10.2.png "размер swap")
## Part 11. Использование утилиты df
* Запускаем команду 
        df / 
![Запускаем команду df](src/linux_tats/tast_11/11.2.png "Запускаем команду df")
* Для корневого раздела (/):
    * размер раздела - 11758760 Кб
    * размер занятого пространства - 4811272 Кб
    * размер свободного пространства - 6328380 Кб
    * процент использования - 44
    * Единица измерения в выводе - килобайты.
* Запускаем команду 
        df -Th 
* Для корневого раздела (/):
    * размер раздела - 12 Гб
    * размер занятого пространства - 4,6 Гб
    * размер свободного пространства - 6,1 Гб
    * процент использования - 44
    * тип файловой системы для раздела - ext4 — журналируемая файловая система, используемая преимущественно в операционных системах с ядром Linux
## Part 12. Использование утилиты du
* Запускаем команду du - bh. Выводим размер папок /home, /var, /var/log: 
![размер папки /home](src/linux_tats/tast_12/12.1.png "размер папки /home")
![размер папки /var](src/linux_tats/tast_12/12.10.png "размер папки /var")
![размер папки /var/log](src/linux_tats/tast_12/12.2.png "размер папки /var/log")
* Размер всего содержимого в /var/log: 
![Размер всего содержимого в /var/log](src/linux_tats/tast_12/12.3.png "Размер всего содержимого в /var/log")
## Part 13. Установка и использование утилиты ncdu
* Установливаем утилиту ncdu. Выводим размер папок /home, /var, /var/log: 
![размер папки /home](src/linux_tats/tast_13/13.1.png  "размер папки /home")
![размер папки /var](src/linux_tats/tast_13/13.2.png "размер папки /var")
![размер папки /var/log](src/linux_tats/tast_13/13.3.png "размер папки /var/log")
## Part 14. Работа с системными журналами
* Открываем для просмотра: /var/log/dmesg`, /var/log/syslog`, /var/log/auth.log 
![/var/log/auth.log](src/linux_tats/tast_14/14.10.png "/var/log/auth.log") 
* Время последней успешной авторизации - 14:14, имя пользователя - user_ahmadbon и метод входа в систему - by LOGIN.
* Перезапускаем службу SSHd. В логах находим сообщение о рестарте службы: 
![сообщение о рестарте службы в /var/log/dmesg](src/linux_tats/tast_14/14.2.png "сообщение о рестарте службы в /var/log/dmesg")
## Part 15. Использование планировщика заданий CRON
* Используя планировщик заданий, запускаем команду uptime через каждые 2 минуты. Находим в системных журналах строчки о выполнении: 
![строчки о выполнении uptime](src/linux_tats/tast_15/15.2.png "строчки о выполнении uptime")
* Выводим на экран список текущих заданий для CRON: 
![список текущих заданий для CRON](src/linux_tats/tast_15/15.3.png "список текущих заданий для CRON")
* Удаляем все задания из планировщика заданий. Смотрим список текущих заданий для CRON: 
![список текущих заданий для CRON после удаления](src/linux_tats/tast_15/15.4.png "список текущих заданий для CRON после удаления")




 


